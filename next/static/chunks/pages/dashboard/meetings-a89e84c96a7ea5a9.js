(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[118],{73539:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/meetings",function(){return s(70437)}])},12453:function(e,t,s){"use strict";var n=s(85893);s(67294),t.Z=e=>{let t,s,{children:l}=e;return"change_request"===l||"pre_production"===l||"open"===l?(t="#FBEDD9",s="#885A00"):"pending"===l||"ongoing"===l||"in_dispute"===l||"Unverified"===l?(t="#FFE9E9",s="#B50000"):"cancelled"===l||"upcoming"===l?t="#E8E8E8":"rescheduled"===l||"completed"===l?t="#E6FBD9":"active"===l||"Active"===l?t="#DDF5F0":("inactive"===l||"InActive"===l)&&(t="#E7CF02"),(0,n.jsx)("div",{className:"inline rounded-2xl border border-solid px-3 py-2",style:{backgroundColor:t},children:(0,n.jsx)("p",{className:"inline capitalize",style:{color:s},children:l})})}},54379:function(e,t,s){"use strict";var n=s(67294);t.Z=e=>{let[t,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let t=(e=>{let t=new Date(e);console.log("\uD83D\uDE80 ~ makeDateFormat ~ date:",t);let s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],n=t.getDate(),l=t.getFullYear(),a=t.getHours(),i=t.getMinutes(),d=a>=12?"pm":"am";a%=12,a=a||12;let c=a+":"+(i<10?"0":"")+i+" "+d,r="".concat(s," ").concat(n,", ").concat(l);return{date:r,time:c}})(e);s(t)},[e]),t}},70437:function(e,t,s){"use strict";s.r(t);var n=s(85893),l=s(67294);s(64321);var a=s(9473),i=s(31467),d=s(11355),c=s(10806),r=s(11163),o=s(63197),x=s(39078),m=s(12453),u=s(93317),h=s(54379),p=s(4246);t.default=()=>{var e,t;let[s,g]=(0,l.useState)(1),[v,f]=(0,l.useState)(1),[j,b]=(0,l.useState)([]),[N,w]=(0,l.useState)(""),[y,k]=(0,l.useState)({}),[D,_]=(0,l.useState)(!1),[M,E]=(0,l.useState)(!0),[S,F]=(0,l.useState)(!1),{userData:A}=(0,x.a)(),C=(0,a.I0)(),z=null==y?void 0:y.meeting_date_time,P=(0,h.Z)(z);(0,l.useEffect)(()=>{getAllMyMeetings()},[v]),(0,l.useEffect)(()=>{C((0,i.Iw)("Meetings"))},[]);let T=(0,l.useRef)(null),O={requested_by:"cp",requested_time:N},handleNext=async()=>{if(N){let e="".concat(o.QP,"meetings/schedule/").concat(null==y?void 0:y.id);try{let t=await fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!t.ok)throw Error("Network response was not ok");await t.json()}catch(e){console.log(e)}}},getAllMyMeetings=async()=>{try{let e=await fetch("".concat(o.QP,"meetings?sortBy=createdAt:desc&limit=10&page=").concat(v)),t=await e.json();g(null==t?void 0:t.totalPages),b(t.results)}catch(e){console.error(e)}};(0,r.useRouter)();let getMeetingDetails=async e=>{E(!0);try{let t=await fetch("".concat(o.QP,"meetings/").concat(e)),s=await t.json();console.log("\uD83D\uDE80 ~ getMeetingDetails ~ meetingDetailsRes:",s),s?(k(s),E(!1),F(!0),handleNext()):(_(!0),E(!1))}catch(e){console.error(e),E(!1)}};function makeDateFormat(e){let t=new Date(e),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],n=t.getDate(),l=t.getFullYear(),a=t.getHours(),i=t.getMinutes(),d=a>=12?"pm":"am";a%=12,a=a||12;let c=a+":"+(i<10?"0":"")+i+" "+d,r="".concat(s," ").concat(n,", ").concat(l);return{date:r,time:c}}return makeDateFormat("2024-05-29T21:00:00.000Z"),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-1",children:[(0,n.jsxs)("div",{className:"panel h-full w-full",children:[(0,n.jsx)("div",{className:"mb-5 flex items-center justify-between",children:(0,n.jsx)("h5",{className:"text-xl font-bold dark:text-white-light",children:"Meeting List"})}),(0,n.jsxs)("div",{className:"table-responsive",children:[(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"",children:[(0,n.jsx)("th",{className:"text-[16px] font-semibold",children:"Order Name"}),(0,n.jsx)("th",{className:"text-[16px] font-semibold",children:"Meeting Date / Time"}),(0,n.jsx)("th",{className:"text-[16px] font-semibold",children:"Attendings"}),(0,n.jsx)("th",{className:"text-[16px] font-semibold ltr:rounded-r-md rtl:rounded-l-md",children:"Status"}),(0,n.jsx)("th",{className:"text-[16px] font-semibold",children:"View"})]})}),(0,n.jsx)("div",{}),(0,n.jsx)("tbody",{children:null==j?void 0:j.map(e=>{var t,s,l,a,i,d,c,r;return(0,n.jsxs)("tr",{className:"group text-white-dark hover:text-black dark:hover:text-white-light/90",children:[(0,n.jsx)("td",{className:" min-w-[150px] text-black dark:text-white",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("p",{className:"whitespace-nowrap break-words",children:(null==e?void 0:null===(t=e.order)||void 0===t?void 0:t.name).length>10?null==e?void 0:null===(s=e.order)||void 0===s?void 0:s.name:"less than 10 character"})})}),(0,n.jsxs)("td",{children:[(0,n.jsxs)("span",{className:"ps-2",children:["Date:",null===(l=makeDateFormat(null==e?void 0:e.meeting_date_time))||void 0===l?void 0:l.date]}),(0,n.jsxs)("span",{className:"ps-2",children:["Time:",null===(a=makeDateFormat(null==e?void 0:e.meeting_date_time))||void 0===a?void 0:a.time]})]}),(0,n.jsx)("td",{children:(0,n.jsxs)("p",{className:"whitespace-nowrap",children:[null==e?void 0:null===(i=e.client)||void 0===i?void 0:i.name," with",(0,n.jsx)("span",{className:"ps-1",children:(null==e?void 0:null===(d=e.cps[1])||void 0===d?void 0:d.name)?null==e?void 0:null===(c=e.cps[1])||void 0===c?void 0:c.name:null==e?void 0:null===(r=e.cps[0])||void 0===r?void 0:r.name})]})}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{children:null==e?void 0:e.meeting_status})})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{type:"button",className:"p-0",onClick:()=>getMeetingDetails(e.id),children:(0,n.jsx)("img",{className:"ml-2 text-center",src:"/assets/images/eye.svg",alt:"view-icon"})})})]},e.id)})})]}),(0,n.jsx)("div",{className:"mt-4 flex justify-center md:justify-end lg:mr-5 2xl:mr-16",children:(0,n.jsx)(p.ZP,{current:v,total:s,onPageChange:e=>{f(e)},maxWidth:400})})]})]}),(0,n.jsx)(d.u,{appear:!0,show:S,as:l.Fragment,children:(0,n.jsx)(c.V,{as:"div",open:S,onClose:()=>F(!1),children:(0,n.jsx)("div",{className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:(0,n.jsx)("div",{className:"flex min-h-screen items-start justify-center md:px-4 ",children:(0,n.jsxs)(c.V.Panel,{as:"div",className:"panel my-24 w-2/5 space-x-6 overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[(0,n.jsxs)("div",{className:"my-2 flex items-center justify-between bg-[#fbfbfb]  py-3 dark:bg-[#121c2c]",children:[(0,n.jsx)("div",{className:"ms-6 text-[22px] font-bold capitalize leading-none text-[#000000]",children:"Meeting Details"}),(0,n.jsx)("button",{type:"button",className:"me-4 text-[16px] text-white-dark hover:text-dark",onClick:()=>F(!1),children:u.w.closeModalSvg})]}),(0,n.jsxs)("div",{className:"basis-[50%]",children:[(0,n.jsxs)("h2",{className:" text-[22px] font-bold capitalize leading-[28.6px] text-[#ACA686]",children:["Meeting with ",(0,n.jsx)("span",{className:"capitalize text-[#ACA686]",children:null==y?void 0:null===(e=y.client)||void 0===e?void 0:e.name})]}),(0,n.jsxs)("div",{className:"".concat((null==y?void 0:y.meeting_status)==="pending"&&"md:flex","  w-5/6 justify-between space-y-6 pb-6"),children:[(0,n.jsxs)("div",{className:"leftdata",children:[(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[14px] font-light capitalize leading-none text-[#000000] ",children:["Order : ",(0,n.jsx)("span",{className:"text-[14px] font-normal text-[#000000]",children:null==y?void 0:null===(t=y.order)||void 0===t?void 0:t.name})]})}),(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[14px] font-light capitalize leading-none text-[#000000] ",children:["Meeting Link :"," ",(0,n.jsx)("a",{href:(null==y?void 0:y.meetLink)||"",target:0,className:"text-[14px] font-normal text-blue-600 underline",children:null==y?void 0:y.meetLink})]})}),(0,n.jsx)("p",{className:"mt-2",children:(0,n.jsxs)("span",{className:"text-[14px] font-light capitalize leading-none text-[#000000]",children:["Time : ",(0,n.jsxs)("span",{className:"text-[14px] font-normal leading-[28px] text-[#000000]",children:[" ",null==P?void 0:P.time]})]})}),(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[14px] font-light capitalize leading-none text-[#000000]",children:["Date : ",(0,n.jsxs)("span",{className:"text-[14px] font-normal leading-[28px] text-[#000000]",children:[" ",null==P?void 0:P.date]})]})}),(0,n.jsxs)("div",{className:"mt-3 flex justify-between",children:[(0,n.jsxs)("span",{className:" text-[14px] font-light capitalize leading-none text-[#000000]",children:["Status:"," ",(0,n.jsx)("span",{className:"ps-2 font-normal text-[#0E1726]",children:(0,n.jsx)(m.Z,{children:null==y?void 0:y.meeting_status})})]}),y.link?(0,n.jsxs)("span",{className:" block font-sans text-[14px] leading-[18.2px] text-[#000000]",children:["Link: ",y.link]}):""]})]}),(0,n.jsx)("div",{children:(null==y?void 0:y.meeting_status)==="pending"&&(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)("h2",{className:"text-[14px] font-semibold capitalize leading-none text-[#000000]",children:"Reschedule Meeting"}),(0,n.jsxs)("form",{action:"",className:"flex flex-col",children:[(0,n.jsx)("input",{className:"w-60 rounded-[10px] border border-solid border-[#dddddd] bg-white px-[15px] py-[10px] font-sans text-[14px] font-medium leading-none text-[#000000] focus:border-[#dddddd]",type:"datetime-local",name:"dateTime",id:"datetime",ref:T,onChange:()=>{let e=T.current.value,t=new Date(e),s=t.toISOString();w(s)}}),(0,n.jsx)("button",{type:"submit",className:"btn float-left my-5 w-60 bg-black font-sans text-[16px] font-light capitalize text-white",children:"Save date"})]})]})})]})]})]})})})})})]})}}},function(e){e.O(0,[378,531,774,888,179],function(){return e(e.s=73539)}),_N_E=e.O()}]);