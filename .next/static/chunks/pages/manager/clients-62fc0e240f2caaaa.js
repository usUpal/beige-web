(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[795],{5250:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/clients",function(){return s(4361)}])},2453:function(e,t,s){"use strict";var n=s(5893);s(7294),t.Z=e=>{let t,s,{children:l}=e;return"change_request"===l||"pre_production"===l||"open"===l?(t="#FBEDD9",s="#885A00"):"pending"===l||"ongoing"===l||"in_dispute"===l||"Unverified"===l?(t="#FFE9E9",s="#B50000"):"cancelled"===l||"upcoming"===l?t="#E8E8E8":("rescheduled"===l||"completed"===l)&&(t="#E6FBD9"),(0,n.jsx)("div",{className:"inline rounded-2xl border border-solid px-3 py-2",style:{backgroundColor:t},children:(0,n.jsx)("p",{className:"inline capitalize",style:{color:s},children:l})})}},4379:function(e,t,s){"use strict";var n=s(7294);t.Z=e=>{let[t,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let t=(e=>{let t=new Date(e);console.log("\uD83D\uDE80 ~ makeDateFormat ~ date:",t);let s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],n=t.getDate(),l=t.getFullYear(),a=t.getHours(),i=t.getMinutes(),c=a>=12?"pm":"am";a%=12,a=a||12;let r=a+":"+(i<10?"0":"")+i+" "+c,o="".concat(s," ").concat(n,", ").concat(l);return{date:o,time:r}})(e);s(t)},[e]),t}},4361:function(e,t,s){"use strict";s.r(t);var n=s(5893),l=s(3197),a=s(1664),i=s.n(a),c=s(7294),r=s(9473);s(2746),s(4321);var o=s(1467),d=s(3317),x=s(1355),m=s(806),h=s(4379),p=s(2453),u=s(4246);t.default=()=>{var e;let[t,s]=(0,c.useState)(!1),[a,f]=(0,c.useState)(!1),[j,b]=(0,c.useState)([]),[g,v]=(0,c.useState)(1),[N,_]=(0,c.useState)(1),[w,y]=(0,c.useState)(!0),[k,E]=(0,c.useState)(!1),[D,C]=(0,c.useState)(null),[S,A]=(0,c.useState)({geo_location:{type:"Point",coordinates:[-122.4711,37.7745]},content_type:["wedding","portrait"],content_verticals:["modern","romanticasaa"],vst:["modern wedding","romantic wedding"],shoot_availability:["weekends","afternoons"],successful_beige_shoots:8,trust_score:4.7,average_rating:4.9,avg_response_time:1.5,equipment:["camera","lens","tripod"],equipment_specific:["Sony a7 III","Sony FE 85mm f/1.8"],portfolio:["https://example.com/portfolio5","https://example.com/portfolio6"],total_earnings:8e3,backup_footage:["https://example.com/backup5","https://example.com/backup6"],travel_to_distant_shoots:!0,experience_with_post_production_edit:!0,customer_service_skills_experience:!0,team_player:!1,avg_response_time_to_new_shoot_inquiry:1,num_declined_shoots:0,num_accepted_shoots:8,num_no_shows:1,review_status:"rejected",userId:"6527c39992e911feecc30b18",city:"Texas",neighborhood:"Mission District",zip_code:"94110",last_beige_shoot:"61d8f4b4c8d9e6a4a8c3f7d5",timezone:"PST",own_transportation_method:!0,reference:"Bob Johnson",created_at:"2023-10-12T10:12:23.602Z",createdAt:"2023-10-12T10:12:23.605Z",updatedAt:"2023-11-14T10:56:45.303Z",id:"6527c687756ec2096cac7ab2"}),z=null==D?void 0:D.createdAt,F=(0,h.Z)(z);(0,c.useEffect)(()=>{getAllClients()},[g]);let getAllClients=async()=>{try{let e=await fetch("".concat(l.QP,"users?limit=30&page=").concat(g)),t=await e.json();console.log("\uD83D\uDE80 ~ getAllClients ~ users:",t),_(null==t?void 0:t.totalPages),b(t.results)}catch(e){console.error(e)}},getUserDetails=async e=>{y(!0);try{let t=await fetch("".concat(l.QP,"users/").concat(e)),s=await t.json();s?(C(s),y(!1),f(!0)):(E(!0),y(!1))}catch(e){console.error(e),y(!1)}},P=(0,r.I0)();(0,c.useEffect)(()=>{P((0,o.Iw)("Client Dashboard"))}),(0,c.useEffect)(()=>{s(!0)},[]);let handleChange=e=>{let{name:t,value:s}=e.target;A(e=>{if(!(Array.isArray(e[t])&&e[t].includes(s)))return{...e,[t]:Array.isArray(e[t])?[...e[t],s]:s};{let n=e[t].filter(e=>e!==s);return{...e,[t]:n}}})};(null==D?void 0:D.content_verticals)&&D.content_verticals.map(e=>(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",className:"form-checkbox",value:e,id:"checkbox_".concat(e),name:"checkbox_".concat(e),onChange:e=>handleChange("content_verticals")}),(0,n.jsx)("span",{className:"font-sans capitalize text-white-dark",children:e})]})},e));let[I,T]=(0,c.useState)({});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[(0,n.jsx)("li",{children:(0,n.jsx)(i(),{href:"/",className:"text-warning hover:underline",children:"Dashboard"})}),(0,n.jsx)("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:(0,n.jsx)("span",{children:"Clients"})})]}),(0,n.jsx)("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-1",children:(0,n.jsxs)("div",{className:"panel",children:[(0,n.jsx)("div",{className:"mb-5 flex items-center justify-between",children:(0,n.jsx)("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Clients"})}),(0,n.jsx)("div",{className:"mb-5",children:(0,n.jsx)("div",{className:"inline-block w-full",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"table-responsive",children:[(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"font-mono",children:"User ID"}),(0,n.jsx)("th",{className:"font-mono ltr:rounded-l-md rtl:rounded-r-md",children:"Name"}),(0,n.jsx)("th",{className:"font-mono",children:"Email"}),(0,n.jsx)("th",{className:"font-mono",children:"Role"}),(0,n.jsx)("th",{className:"font-mono ltr:rounded-r-md rtl:rounded-l-md",children:"Status"}),(0,n.jsx)("th",{className:"font-mono",children:"Edit"})]})}),(0,n.jsx)("tbody",{children:null===(e=j.filter(e=>"user"===e.role))||void 0===e?void 0:e.map(e=>(0,n.jsxs)("tr",{className:"group text-white-dark hover:text-black dark:hover:text-white-light/90",children:[(0,n.jsx)("td",{className:"min-w-[150px] font-sans text-black dark:text-white",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("p",{className:"whitespace-nowrap",children:null==e?void 0:e.id})})}),(0,n.jsx)("td",{children:null==e?void 0:e.name}),(0,n.jsx)("td",{children:null==e?void 0:e.email}),(0,n.jsx)("td",{className:"font-sans text-success",children:null==e?void 0:e.role}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"font-sans",children:(0,n.jsx)(p.Z,{children:(null==e?void 0:e.isEmailVerified)===!0?"Verified":"Unverified"})})}),(0,n.jsx)("td",{children:(0,n.jsx)("button",{type:"button",className:"p-0",onClick:()=>getUserDetails(e.id),children:d.w.pencilIconForEdit})})]},e.id))})]}),(0,n.jsx)("div",{className:"mt-4 flex justify-center md:justify-end lg:mr-5 2xl:mr-16",children:(0,n.jsx)(u.ZP,{current:g,total:N,onPageChange:e=>{v(e)},maxWidth:400})})]}),(0,n.jsx)(x.u,{appear:!0,show:a,as:c.Fragment,children:(0,n.jsx)(m.V,{as:"div",open:a,onClose:()=>f(!1),children:(0,n.jsx)("div",{className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:(0,n.jsx)("div",{className:"flex min-h-screen items-start justify-center md:px-4 ",children:(0,n.jsxs)(m.V.Panel,{as:"div",className:"panel my-24 w-3/5 overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[(0,n.jsxs)("div",{className:"flex my-2 items-center justify-between bg-[#fbfbfb] px-3 py-3 dark:bg-[#121c2c]",children:[(0,n.jsx)("div",{className:"text-[22px] font-bold capitalize leading-none text-[#000000] ms-3",children:"Client "}),(0,n.jsx)("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>f(!1),children:d.w.closeModalSvg})]}),(0,n.jsxs)("div",{className:"basis-[50%]",children:[(0,n.jsxs)("h2",{className:"mx-6 mb-[12px] text-[22px] font-bold capitalize leading-[28.6px] text-[#ACA686]",children:["Detail Information of ",null==D?void 0:D.name," "]}),(0,n.jsxs)("div",{className:"mx-6 pb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{className:"left",children:[(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[16px] font-bold leading-none capitalize text-[#000000]",children:["Name :",(0,n.jsx)("span",{className:"ps-1 text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==D?void 0:D.name})]})}),(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[16px] font-bold leading-none text-[#000000]",children:["Email :",(0,n.jsx)("span",{className:"ps-1 text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==D?void 0:D.email})]})}),(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[16px] font-bold leading-none text-[#000000] capitalize",children:["Role :",(0,n.jsx)("span",{className:"ps-1 text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==D?void 0:D.role})]})})]}),(0,n.jsxs)("div",{className:"right",children:[(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[16px] font-bold leading-none text-[#000000]",children:["Time :",(0,n.jsx)("span",{className:"ps-1 text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==F?void 0:F.time})]})}),(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[16px] font-bold leading-none text-[#000000] capitalize",children:["Date :",(0,n.jsx)("span",{className:"ps-1 text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==F?void 0:F.date})]})}),(0,n.jsx)("p",{children:(0,n.jsxs)("span",{className:"text-[16px] font-bold leading-none text-[#000000] capitalize",children:["Address :",(0,n.jsx)("span",{className:"ps-1 text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==D?void 0:D.location})]})})]})]}),(0,n.jsx)("div",{className:"btn-group flex",children:(0,n.jsx)("button",{onClick:()=>f(!1),type:"submit",className:"btn bg-black font-sans text-white mx-auto md:me-0 mt-12 hidden md:block",children:"Close"})})]})]})]})})})})})]})})})]})})]})})}}},function(e){e.O(0,[378,531,455,774,888,179],function(){return e(e.s=5250)}),_N_E=e.O()}]);