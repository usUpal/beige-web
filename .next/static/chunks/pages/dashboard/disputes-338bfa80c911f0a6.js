(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{7211:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/disputes",function(){return s(3297)}])},2453:function(e,t,s){"use strict";var l=s(5893);s(7294),t.Z=e=>{let t,s,{children:a}=e;return"change_request"===a||"pre_production"===a||"open"===a?(t="#FBEDD9",s="#885A00"):"pending"===a||"ongoing"===a||"in_dispute"===a||"Unverified"===a?(t="#FFE9E9",s="#B50000"):"cancelled"===a||"upcoming"===a?t="#E8E8E8":("rescheduled"===a||"completed"===a)&&(t="#E6FBD9"),(0,l.jsx)("div",{className:"inline rounded-2xl border border-solid px-3 py-2",style:{backgroundColor:t},children:(0,l.jsx)("p",{className:"inline capitalize",style:{color:s},children:a})})}},4379:function(e,t,s){"use strict";var l=s(7294);t.Z=e=>{let[t,s]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let t=(e=>{let t=new Date(e);console.log("\uD83D\uDE80 ~ makeDateFormat ~ date:",t);let s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],l=t.getDate(),a=t.getFullYear(),n=t.getHours(),i=t.getMinutes(),d=n>=12?"pm":"am";n%=12,n=n||12;let c=n+":"+(i<10?"0":"")+i+" "+d,r="".concat(s," ").concat(l,", ").concat(a);return{date:r,time:c}})(e);s(t)},[e]),t}},3297:function(e,t,s){"use strict";s.r(t);var l=s(5893);s(4321);var a=s(7294),n=s(9473),i=s(1467),d=s(1355),c=s(806),r=s(3197),o=s(2453),x=s(3317),u=s(4379),p=s(4246);t.default=()=>{var e,t;let s=(0,n.I0)();(0,a.useEffect)(()=>{s((0,i.Iw)("Disputes"))});let[m,h]=(0,a.useState)(!1),[j,b]=(0,a.useState)(1),[f,g]=(0,a.useState)(1),[v,N]=(0,a.useState)([]),[w,y]=(0,a.useState)({});(0,a.useEffect)(()=>{getAllDusputes()},[j]);let getAllDusputes=async()=>{try{let e=await fetch("".concat(r.QP,"disputes?sortBy=createdAt:desc&limit=10&page=").concat(j)),t=await e.json();g(null==t?void 0:t.totalPages),N(t.results)}catch(e){console.error(e)}},getSingleDesputeDetails=async e=>{try{let t=await fetch("".concat(r.QP,"disputes/").concat(e)),s=await t.json();s?(h(!0),y(s)):console.log(t)}catch(e){console.error(e)}},k=null==w?void 0:w.createdAt,D=(0,u.Z)(k);return(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-1",children:[(0,l.jsxs)("div",{className:"panel h-full w-full",children:[(0,l.jsx)("div",{className:"mb-5 flex items-center justify-between",children:(0,l.jsx)("h5",{className:"text-xl font-bold dark:text-white-light",children:"All Disputes"})}),(0,l.jsxs)("div",{className:"table-responsive",children:[(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"font-semibold text-[16px]",children:"Reason"}),(0,l.jsx)("th",{className:"font-semibold text-[16px]",children:"Created Date"}),(0,l.jsx)("th",{className:"font-semibold text-[16px]",children:"Status"}),(0,l.jsx)("th",{className:"font-semibold text-[16px]",children:"View"})]})}),(0,l.jsx)("tbody",{children:null==v?void 0:v.map(e=>(0,l.jsxs)("tr",{className:"group text-white-dark hover:text-black dark:hover:text-white-light/90",children:[(0,l.jsx)("td",{className:" min-w-[150px] text-black dark:text-white",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("p",{className:"whitespace-nowrap break-words",children:null==e?void 0:e.reason})})}),(0,l.jsx)("td",{children:new Date(null==e?void 0:e.createdAt).toLocaleString()}),(0,l.jsx)("td",{className:"",children:(0,l.jsx)(o.Z,{children:null==e?void 0:e.status})}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{type:"button",className:"p-0",onClick:()=>getSingleDesputeDetails(null==e?void 0:e.id),children:(0,l.jsx)("img",{className:"text-center ml-2",src:"/assets/images/eye.svg",alt:"view-icon"})})})]},e.id))})]}),(0,l.jsx)("div",{className:"mt-4 flex justify-center md:justify-end lg:mr-5 2xl:mr-16",children:(0,l.jsx)(p.ZP,{current:j,total:f,onPageChange:e=>{b(e)},maxWidth:400})})]})]}),(0,l.jsx)(d.u,{appear:!0,show:m,as:a.Fragment,children:(0,l.jsxs)(c.V,{as:"div",open:m,onClose:()=>h(!1),children:[(0,l.jsx)("div",{className:"fixed inset-0"}),(0,l.jsx)("div",{className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:(0,l.jsx)("div",{className:"flex min-h-screen items-start justify-center px-4",children:(0,l.jsxs)(c.V.Panel,{as:"div",className:"panel my-24 w-3/5 overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark pt-8 pb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 dark:bg-[#121c2c]",children:[(0,l.jsx)("div",{className:"text-[22px] font-bold leading-none capitalize text-[#000000]",children:"Dispute Details"}),(0,l.jsx)("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>h(!1),children:x.w.closeModalSvg})]}),(0,l.jsxs)("div",{className:"px-5 mt-5",children:[(0,l.jsxs)("h2",{className:"text-[#ACA686] text-[22px] font-bold leading-[28.6px] capitalize mb-[20px]",children:["Shoot Name: ",null==w?void 0:null===(e=w.order_id)||void 0===e?void 0:e.order_name]}),(0,l.jsxs)("div",{className:"md:flex justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-[5px]",children:(0,l.jsxs)("span",{className:"text-[16px] font-bold leading-none capitalize text-[#000000]",children:["Reason : ",(0,l.jsx)("span",{className:"text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==w?void 0:w.reason})]})}),(0,l.jsx)("p",{children:(0,l.jsxs)("span",{className:"text-[16px] font-bold leading-none capitalize text-[#000000]",children:["Amount : ",(0,l.jsx)("span",{className:"text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==w?void 0:null===(t=w.order_id)||void 0===t?void 0:t.shoot_cost})]})}),(0,l.jsxs)("span",{className:"text-[16px] leading-[18.2px] text-[#000000] my-[10px] block font-bold",children:["Status:",(0,l.jsx)("span",{className:"ps-1 text-[14px] font-semibold",children:(0,l.jsx)(o.Z,{children:null==w?void 0:w.status})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:(0,l.jsxs)("span",{className:"text-[16px] font-bold leading-none capitalize text-[#000000]",children:["Time : ",(0,l.jsx)("span",{className:"text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==D?void 0:D.time})]})}),(0,l.jsx)("p",{children:(0,l.jsxs)("span",{className:"text-[16px] font-bold leading-none capitalize text-[#000000]",children:["Date : ",(0,l.jsx)("span",{className:"text-[16px] font-semibold leading-[28px] text-[#000000]",children:null==D?void 0:D.date})]})}),(0,l.jsx)("button",{onClick:()=>h(!1),type:"submit",className:"btn md:mt-24 mt-8  bg-black font-sans text-white mx-auto md:me-0",children:"Close"})]})]})]})]})})})]})})]})}}},function(e){e.O(0,[378,531,774,888,179],function(){return e(e.s=7211)}),_N_E=e.O()}]);